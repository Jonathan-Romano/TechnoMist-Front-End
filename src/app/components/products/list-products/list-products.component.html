<app-progress-bar *ngIf="loading"></app-progress-bar>
<div *ngIf="!loading" class="container">
    <div class="title">
        <h4>Listado de productos</h4>
        <button type="button" class="btn btn-primary radius-per" routerLink="/add">Agregar producto</button>
    </div>

    <table *ngIf="products.length > 0" class="table table-hover ">
        <thead>
          <tr>
            <th scope="col ">ID</th>
            <th scope="col">Nombre</th>
            <th scope="col">Codigo</th>
            <th scope="col">Marca</th>
            <th scope="col">Precio</th>
          </tr>
        </thead>
        <tbody  *ngFor="let product of products">  
          <tr class="table-secondary" >
            <th scope="row">{{product.idP}}</th>
            <td>{{product.nombre}}</td>
            <td>{{product.codigo}}</td>
            <td>{{product.marca}}</td>
            <td>${{product.precio  | number: '1.2-2'}}</td>
            <td class="p-2 text-nowrap" style="width: 1%; white-space: nowrap;">
              <div class="btn-group" >
                <button type="button" class="btn btn-primary btn-sm ms-2 radius-per" routerLink="/" (click)="addProduct(product.codigo)">Agregar al carrito</button>
                <button type="button" class="btn btn-info btn-sm ms-2 radius-per" routerLink="/edit/{{product.idP}}">Editar</button>
                <button (click)="deleteProduct(product.idP!)" type="button" class="btn btn-danger btn-sm ms-2 radius-per"> <i class="fa fa-trash"></i></button> 
             </div>
            </td>
          </tr>       
        </tbody>
      </table>
      <h5 *ngIf="products.length == 0"> No hay productos para mostrar</h5>
</div>
